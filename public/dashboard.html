<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>MegaMind Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="dashboard.css">
    <script>
        // Quiz-first gate: redirect BEFORE page renders if quiz not completed
        if (!localStorage.getItem('megamind_completed')) {
            window.location.replace('/index.html');
        }
    </script>
</head>
<body class="dashboard-dark">
    <div class="dash-container">

        <header class="dash-header">
            <div class="header-glow"></div>
            <div class="avatar-pulse">
                <div class="dash-avatar">ğŸ§ </div>
            </div>
            <h1 id="welcomeMsg">Welcome back!</h1>
            <p class="subtitle" id="welcomeSub">Your personal AI command center</p>
            <div class="header-stats">
                <span class="status-chip"><span class="dot"></span> Online</span>
            </div>
        </header>

        <nav class="dash-tabs">
            <button class="tab active" data-tab="chat" onclick="switchTab('chat')"><span class="tab-icon">ğŸ’¬</span><span class="tab-label">Chat</span></button>
            <button class="tab" data-tab="profile" onclick="switchTab('profile')"><span class="tab-icon">ğŸ‘¤</span><span class="tab-label">Profile</span></button>
            <button class="tab" data-tab="apps" onclick="switchTab('apps')"><span class="tab-icon">ğŸ”—</span><span class="tab-label">Apps</span></button>
            <button class="tab" data-tab="skills" onclick="switchTab('skills')"><span class="tab-icon">âš¡</span><span class="tab-label">Skills</span></button>
            <button class="tab" data-tab="learn" onclick="switchTab('learn')"><span class="tab-icon">ğŸ“š</span><span class="tab-label">Learn</span></button>
        </nav>

        <!-- ===== TAB: CHAT ===== -->
        <section id="tab-chat" class="tab-content active">
            <div class="chat-wrapper">
                <!-- Conversation sidebar (mobile: dropdown) -->
                <div class="chat-sidebar" id="chatSidebar">
                    <button class="new-chat-btn" onclick="newConversation()">+ New Chat</button>
                    <div id="conversationList" class="convo-list"></div>
                </div>

                <!-- Chat area -->
                <div class="chat-main">
                    <div class="chat-header">
                        <button class="sidebar-toggle" onclick="toggleSidebar()">&#9776;</button>
                        <span id="chatTitle">MegaMind</span>
                        <button class="new-chat-btn-sm" onclick="newConversation()">+</button>
                    </div>

                    <div class="chat-messages" id="chatMessages">
                        <div class="chat-welcome">
                            <div class="welcome-glow">
                                <span class="megamind-avatar-lg">ğŸ§ </span>
                            </div>
                            <h3>Hey! I'm MegaMind</h3>
                            <p>Your personal AI assistant. Ask me anything!</p>
                            <div class="quick-prompts">
                                <button class="quick-prompt" onclick="sendQuick('Help me plan my day')">Plan my day</button>
                                <button class="quick-prompt" onclick="sendQuick('Give me 5 social media post ideas')">Social media ideas</button>
                                <button class="quick-prompt" onclick="sendQuick('What should I work on for my End of Life Planner project?')">Project help</button>
                                <button class="quick-prompt" onclick="sendQuick('Write a professional email for me')">Write an email</button>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-area">
                        <div class="typing-indicator" id="typingIndicator" style="display:none;">
                            <div class="typing-dots"><span></span><span></span><span></span></div>
                            <span class="typing-text">MegaMind is thinking...</span>
                        </div>
                        <form id="chatForm" onsubmit="sendMessage(event)">
                            <input type="text" id="chatInput" placeholder="Message MegaMind..." autocomplete="off">
                            <button type="submit" id="sendBtn">Send</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== TAB: PROFILE ===== -->
        <section id="tab-profile" class="tab-content">
            <div id="profileLoading" class="loading-box">
                <div class="spinner"></div>
                <p>Loading your profile...</p>
            </div>

            <div id="profileContent" style="display:none;">
                <div class="section-card" id="sec-about">
                    <div class="section-header"><h3>About You</h3><button class="edit-btn" onclick="editSection('about')">Edit</button></div>
                    <div id="profile-about" class="profile-grid"></div>
                </div>
                <div class="section-card" id="sec-interests">
                    <div class="section-header"><h3>Interests & Passions</h3><button class="edit-btn" onclick="editSection('interests')">Edit</button></div>
                    <div id="profile-interests" class="profile-grid"></div>
                </div>
                <div class="section-card" id="sec-goals">
                    <div class="section-header"><h3>Goals & Dreams</h3><button class="edit-btn" onclick="editSection('goals')">Edit</button></div>
                    <div id="profile-goals" class="profile-grid"></div>
                </div>
                <div class="section-card" id="sec-work">
                    <div class="section-header"><h3>Work Style</h3><button class="edit-btn" onclick="editSection('work')">Edit</button></div>
                    <div id="profile-work" class="profile-grid"></div>
                </div>
                <div class="section-card" id="sec-settings">
                    <div class="section-header"><h3>MegaMind Settings</h3><button class="edit-btn" onclick="editSection('settings')">Edit</button></div>
                    <div id="profile-settings" class="profile-grid"></div>
                </div>
                <div style="text-align:center; margin-top:24px;">
                    <a href="index.html?retake=1" class="btn btn-secondary" style="display:inline-block; text-decoration:none;">Retake Full Quiz</a>
                </div>
            </div>

            <div id="profileEmpty" style="display:none; text-align:center; padding:40px 20px;">
                <div style="font-size:64px; margin-bottom:16px;">ğŸ‘‹</div>
                <h2>Let's Get Started!</h2>
                <p style="color:var(--text-light); margin:12px 0 24px;">Take a quick quiz so MegaMind can learn about you.</p>
                <a href="index.html" class="btn btn-primary" style="display:inline-block; text-decoration:none; padding:16px 48px;">Start Quiz</a>
            </div>
        </section>

        <!-- ===== TAB: APPS ===== -->
        <section id="tab-apps" class="tab-content">
            <div class="section-card">
                <h3 style="margin-bottom:8px;">Connected Apps</h3>
                <p style="color:var(--text-light); font-size:14px; margin-bottom:20px;">Connect your apps so MegaMind can help manage your files, emails, and projects.</p>
                <div class="app-list">
                    <div class="app-row" id="app-google_drive">
                        <div class="app-info"><span class="app-icon-sm">ğŸ“</span><div><div class="app-title">Google Drive</div><div class="app-desc">Organize files, search documents, manage projects</div></div></div>
                        <button class="connect-btn" onclick="connectApp('google_drive')">Connect</button>
                    </div>
                    <div class="app-row" id="app-gmail">
                        <div class="app-info"><span class="app-icon-sm">ğŸ“§</span><div><div class="app-title">Gmail</div><div class="app-desc">Draft emails, organize inbox, track conversations</div></div></div>
                        <button class="connect-btn" onclick="connectApp('gmail')">Connect</button>
                    </div>
                    <div class="app-row" id="app-notion">
                        <div class="app-info"><span class="app-icon-sm">ğŸ“</span><div><div class="app-title">Notion</div><div class="app-desc">Track projects, knowledge bases, content planning</div></div></div>
                        <button class="connect-btn" onclick="connectApp('notion')">Connect</button>
                    </div>
                    <div class="app-row" id="app-gumroad">
                        <div class="app-info"><span class="app-icon-sm">ğŸ’°</span><div><div class="app-title">Gumroad</div><div class="app-desc">Track sales, manage products, customer insights</div></div></div>
                        <button class="connect-btn" onclick="connectApp('gumroad')">Connect</button>
                    </div>
                </div>
            </div>
            <div class="section-card">
                <h3 style="margin-bottom:8px;">How It Works</h3>
                <div class="steps-list">
                    <div class="step"><div class="step-num">1</div><div><strong>Tap Connect</strong> - opens a secure login page</div></div>
                    <div class="step"><div class="step-num">2</div><div><strong>Sign in</strong> - use your normal login</div></div>
                    <div class="step"><div class="step-num">3</div><div><strong>Allow access</strong> - MegaMind only asks for what it needs</div></div>
                    <div class="step"><div class="step-num">4</div><div><strong>Done!</strong> - confirmation sent to WhatsApp</div></div>
                </div>
            </div>
            <div class="info-banner"><strong>Your data stays yours.</strong> MegaMind never shares your information.</div>
        </section>

        <!-- ===== TAB: SKILLS ===== -->
        <section id="tab-skills" class="tab-content">
            <div class="section-card">
                <h3 style="margin-bottom:4px;">AI Superpowers</h3>
                <p style="color:var(--text-light); font-size:14px; margin-bottom:0;">Tap Enable to teach MegaMind new tricks instantly.</p>
            </div>

            <div class="skill-category">
                <h4 class="cat-label">Active</h4>
                <div class="skill-card active-skill">
                    <div class="skill-top"><span class="skill-icon">ğŸŒ¤ï¸</span><div class="skill-info"><div class="skill-name">Weather Buddy</div><div class="skill-simple">Tells you the weather so you know what to wear</div></div><span class="status-badge active">Active</span></div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span class="installs">Built-in</span><a href="#" class="skill-link" onclick="learnSkill('Weather Buddy','Ask me about the weather anywhere! Try: What\\'s the weather like today?'); return false;">Learn more &rarr;</a></div>
                </div>
                <div class="skill-card active-skill">
                    <div class="skill-top"><span class="skill-icon">ğŸ”</span><div class="skill-info"><div class="skill-name">Web Search</div><div class="skill-simple">Searches the internet for answers</div></div><span class="status-badge active">Active</span></div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span class="installs">Built-in</span><a href="#" class="skill-link" onclick="learnSkill('Web Search','I can search the internet for you! Try: Search for the best digital planner templates'); return false;">Learn more &rarr;</a></div>
                </div>
                <div class="skill-card active-skill">
                    <div class="skill-top"><span class="skill-icon">ğŸ’š</span><div class="skill-info"><div class="skill-name">Health Check</div><div class="skill-simple">Makes sure MegaMind is running smoothly</div></div><span class="status-badge active">Active</span></div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜†</span><span class="installs">Built-in</span><a href="#" class="skill-link" onclick="learnSkill('Health Check','I monitor my own health to stay running smoothly for you 24/7.'); return false;">Learn more &rarr;</a></div>
                </div>
            </div>

            <div class="skill-category">
                <h4 class="cat-label">Most Popular</h4>

                <div class="skill-card" id="skill-superpowers-mode">
                    <div class="skill-top"><span class="skill-icon">ğŸ§ </span><div class="skill-info"><div class="skill-name">Super Brain Mode <span class="rec-badge">Recommended</span></div><div class="skill-simple">Makes MegaMind think extra hard on tough questions</div></div><button class="enable-btn" onclick="installSkill('superpowers-mode', this)">Enable</button></div>
                    <div class="skill-benefit">Like upgrading from a calculator to a genius mathematician</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span class="installs">2.4k installs</span><span class="skill-tag">Intelligence</span><a href="#" class="skill-link" onclick="learnSkill('Super Brain Mode','Tell me more about Super Brain Mode - what can it do and how does it make you smarter?'); return false;">Learn more &rarr;</a></div>
                </div>

                <div class="skill-card" id="skill-writing-helper">
                    <div class="skill-top"><span class="skill-icon">âœï¸</span><div class="skill-info"><div class="skill-name">Writing Helper <span class="rec-badge">Recommended</span></div><div class="skill-simple">Writes emails, posts, and documents for you</div></div><button class="enable-btn" onclick="installSkill('writing-helper', this)">Enable</button></div>
                    <div class="skill-benefit">Tell MegaMind what to say and it writes it perfectly</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span class="installs">3.1k installs</span><span class="skill-tag">Content</span><a href="#" class="skill-link" onclick="learnSkill('Writing Helper','Show me what Writing Helper can do - write me a sample professional email'); return false;">Learn more &rarr;</a></div>
                </div>

                <div class="skill-card" id="skill-daily-planner">
                    <div class="skill-top"><span class="skill-icon">ğŸ“‹</span><div class="skill-info"><div class="skill-name">Daily Planner</div><div class="skill-simple">Plans your whole day like a personal secretary</div></div><button class="enable-btn" onclick="installSkill('daily-planner', this)">Enable</button></div>
                    <div class="skill-benefit">Wake up to a simple list of what to do, in order</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span class="installs">1.8k installs</span><span class="skill-tag">Productivity</span><a href="#" class="skill-link" onclick="learnSkill('Daily Planner','Help me plan my day - show me how the Daily Planner skill works'); return false;">Learn more &rarr;</a></div>
                </div>

                <div class="skill-card" id="skill-research-pro">
                    <div class="skill-top"><span class="skill-icon">ğŸ”¬</span><div class="skill-info"><div class="skill-name">Research Pro</div><div class="skill-simple">Digs deep into any topic and gives a simple summary</div></div><button class="enable-btn" onclick="installSkill('research-pro', this)">Enable</button></div>
                    <div class="skill-benefit">Ask anything, get a clear answer with sources</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜†</span><span class="installs">1.5k installs</span><span class="skill-tag">Research</span><a href="#" class="skill-link" onclick="learnSkill('Research Pro','Show me what Research Pro can do - research something interesting for me'); return false;">Learn more &rarr;</a></div>
                </div>
            </div>

            <div class="skill-category">
                <h4 class="cat-label">Business & Money</h4>

                <div class="skill-card" id="skill-product-launcher">
                    <div class="skill-top"><span class="skill-icon">ğŸš€</span><div class="skill-info"><div class="skill-name">Product Launcher <span class="hot-badge">Hot</span></div><div class="skill-simple">Helps you create and sell digital products</div></div><button class="enable-btn" onclick="installSkill('product-launcher', this)">Enable</button></div>
                    <div class="skill-benefit">From idea to sale - perfect for your End of Life Planner & Coloring Book</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span class="installs">980 installs</span><span class="skill-tag">Business</span><a href="#" class="skill-link" onclick="learnSkill('Product Launcher','Tell me how Product Launcher can help me launch my End of Life Planner as a digital product'); return false;">Learn more &rarr;</a></div>
                </div>

                <div class="skill-card" id="skill-brand-builder">
                    <div class="skill-top"><span class="skill-icon">ğŸ¨</span><div class="skill-info"><div class="skill-name">Brand Builder</div><div class="skill-simple">Makes your business look professional and polished</div></div><button class="enable-btn" onclick="installSkill('brand-builder', this)">Enable</button></div>
                    <div class="skill-benefit">Colors, logos, social media - your complete business look</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜†</span><span class="installs">1.2k installs</span><span class="skill-tag">Branding</span><a href="#" class="skill-link" onclick="learnSkill('Brand Builder','Show me what Brand Builder can do - help me create a professional brand look'); return false;">Learn more &rarr;</a></div>
                </div>

                <div class="skill-card" id="skill-budget-buddy">
                    <div class="skill-top"><span class="skill-icon">ğŸ’µ</span><div class="skill-info"><div class="skill-name">Budget Buddy</div><div class="skill-simple">Tracks money and plans your spending</div></div><button class="enable-btn" onclick="installSkill('budget-buddy', this)">Enable</button></div>
                    <div class="skill-benefit">Like a friendly accountant who explains everything simply</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜†</span><span class="installs">890 installs</span><span class="skill-tag">Finance</span><a href="#" class="skill-link" onclick="learnSkill('Budget Buddy','Tell me about Budget Buddy - how can it help me track my money?'); return false;">Learn more &rarr;</a></div>
                </div>

                <div class="skill-card" id="skill-social-media-helper">
                    <div class="skill-top"><span class="skill-icon">ğŸ“±</span><div class="skill-info"><div class="skill-name">Social Media Helper</div><div class="skill-simple">Creates posts, captions, and hashtags</div></div><button class="enable-btn" onclick="installSkill('social-media-helper', this)">Enable</button></div>
                    <div class="skill-benefit">Describe what to share, get a ready-to-post message</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span class="installs">2.7k installs</span><span class="skill-tag">Marketing</span><a href="#" class="skill-link" onclick="learnSkill('Social Media Helper','Show me Social Media Helper in action - give me 3 post ideas for my business'); return false;">Learn more &rarr;</a></div>
                </div>
            </div>

            <div class="skill-category">
                <h4 class="cat-label">Personal Growth</h4>

                <div class="skill-card" id="skill-learning-coach">
                    <div class="skill-top"><span class="skill-icon">ğŸ“</span><div class="skill-info"><div class="skill-name">Learning Coach</div><div class="skill-simple">Teaches you new things at your own pace</div></div><button class="enable-btn" onclick="installSkill('learning-coach', this)">Enable</button></div>
                    <div class="skill-benefit">A patient teacher who never rushes and always explains again</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜…</span><span class="installs">1.6k installs</span><span class="skill-tag">Education</span><a href="#" class="skill-link" onclick="learnSkill('Learning Coach','Teach me something new right now - show me how Learning Coach works'); return false;">Learn more &rarr;</a></div>
                </div>

                <div class="skill-card" id="skill-reminder-friend">
                    <div class="skill-top"><span class="skill-icon">â°</span><div class="skill-info"><div class="skill-name">Reminder Friend</div><div class="skill-simple">Remembers things and sends gentle reminders</div></div><button class="enable-btn" onclick="installSkill('reminder-friend', this)">Enable</button></div>
                    <div class="skill-benefit">Never forget an appointment or deadline again</div>
                    <div class="skill-meta"><span class="stars">â˜…â˜…â˜…â˜…â˜†</span><span class="installs">1.1k installs</span><span class="skill-tag">Productivity</span><a href="#" class="skill-link" onclick="learnSkill('Reminder Friend','Tell me about Reminder Friend - how do I set reminders with you?'); return false;">Learn more &rarr;</a></div>
                </div>
            </div>

            <div class="info-banner"><strong>One tap = one new superpower.</strong> Each skill teaches MegaMind something new instantly.</div>
        </section>

        <!-- ===== TAB: LEARN ===== -->
        <section id="tab-learn" class="tab-content">
            <div class="section-card">
                <h3 style="margin-bottom:16px;">What Can AI Do For You?</h3>
                <p style="color:var(--text-light); font-size:14px;">Think of MegaMind as a personal assistant who never sleeps, never forgets, and gets smarter every day.</p>
            </div>

            <div class="learn-card"><div class="learn-icon">ğŸ’¬</div><div><h4>Just Talk Normally</h4><p>No special commands. Text MegaMind like you'd text a friend. "Help me write an email" or "what should I work on today?" - it understands plain English.</p></div></div>
            <div class="learn-card"><div class="learn-icon">ğŸ“</div><div><h4>It Writes For You</h4><p>Emails, social posts, product descriptions - describe what you want and MegaMind writes it. Review, tweak, done.</p></div></div>
            <div class="learn-card"><div class="learn-icon">ğŸ”</div><div><h4>It Researches For You</h4><p>Instead of hours on Google, ask MegaMind. It finds, reads, and summarizes. Like a research assistant on call 24/7.</p></div></div>
            <div class="learn-card"><div class="learn-icon">ğŸ“‹</div><div><h4>It Organizes Your Life</h4><p>Plan your day, track projects, remember deadlines. Like a personal secretary who knows all your priorities.</p></div></div>
            <div class="learn-card"><div class="learn-icon">ğŸ’¡</div><div><h4>It Learns About YOU</h4><p>The more you chat, the better it understands you. It remembers your preferences and gets smarter over time.</p></div></div>
            <div class="learn-card"><div class="learn-icon">ğŸ›¡ï¸</div><div><h4>It's Private & Safe</h4><p>Your conversations are private on a secure server just for you. Nobody else has access.</p></div></div>

            <div class="section-card" style="text-align:center; margin-top:24px;">
                <h3 style="margin-bottom:12px;">Try These Right Now</h3>
                <p style="color:var(--text-light); font-size:14px; margin-bottom:20px;">Tap to copy, then paste to WhatsApp or use the Chat tab:</p>
                <div class="try-list">
                    <div class="try-item" onclick="copyText(this)"><span>"What's the weather like today?"</span><span class="copy-hint">tap to copy</span></div>
                    <div class="try-item" onclick="copyText(this)"><span>"Help me plan my day"</span><span class="copy-hint">tap to copy</span></div>
                    <div class="try-item" onclick="copyText(this)"><span>"Write an email to a customer who ordered from my store"</span><span class="copy-hint">tap to copy</span></div>
                    <div class="try-item" onclick="copyText(this)"><span>"Give me 5 social media post ideas"</span><span class="copy-hint">tap to copy</span></div>
                    <div class="try-item" onclick="copyText(this)"><span>"What are the steps to create a digital product?"</span><span class="copy-hint">tap to copy</span></div>
                </div>
            </div>

            <div style="text-align:center; margin-top:24px; padding:20px;">
                <p style="font-size:14px; color:var(--text-light);">Or chat directly above, or via WhatsApp:</p>
                <p style="font-size:20px; font-weight:700; margin-top:8px;">+1 (678) 287-9864</p>
            </div>
        </section>

        <footer class="dash-footer"><p><span class="footer-brand"><span class="footer-icon">ğŸ§ </span> MegaMind - Your Personal AI Assistant</span></p></footer>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
